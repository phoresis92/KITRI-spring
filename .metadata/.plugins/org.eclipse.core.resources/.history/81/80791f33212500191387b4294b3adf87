<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kitri.test.product.Dao">

	<resultMap id="prodResult" type="com.kitri.test.product.Product">
		<result column="num" property="num" />
		<result column="title" property="title" />
		<result column="seller" property="seller" />
		<result column="cate" property="cate" />
		<result column="quantity" property="quantity" />
		<result column="content" property="content" />
		<result column="price" property="price" />
		<result column="img1" property="img1" />
		<result column="img2" property="img2" />
		<result column="img3" property="img3" />
		<result column="img4" property="img4" />
	</resultMap>
	
	
	  2  num number primary key,
  3  title varchar2(50) not null,
  4  seller varchar2(20) references prod_mem(id) on delete cascade,
  5  cate number references prod_cate(num) on delete cascade,
  6  quantity number,
  7  content varchar2(100),
  8  price number not null,
  9  img1 varchar2(50) not null,
 10  img2 varchar2(50),
 11  img3 varchar2(50),
 12* img4 varchar2(50))
	

	<insert id="insert" parameterType="com.kitri.test.product.Product">
		insert into prod values(seq_prod.nextval, #{title}, #{seller}, #{cate}, #{quantity}, #{content}, #{price}, #{img1}, #{img2}, #{img3}, #{img4})
	</insert>
	
	<select id="selectAll" resultMap="prodResult">
		select * from prod 
	</select>
	
	<select id="selectByMem" parameterType="com.kitri.test.product.Product">
		update prod_mem set pwd=#{pwd}, name=#{name}, email=#{email} where id=#{id}
	</select>
	

</mapper>